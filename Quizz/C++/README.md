## Q: VS2005点击运行按钮后发生了什么

经过预处理, 编译, 汇编, 链接等多个步骤, 才能生成可以再机器上直接运行的可执行程序.

![](https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=4167137638,3334516333&fm=173&app=25&f=JPEG?w=637&h=100)

- 编译器对预处理的代码进行词法分析, 语法分析, 语义分析, 将符合规则的程序转换成等价的汇编代码.
- 汇编器将编译生成的汇编代码翻译成计算机可以识别的机器指令, 并生成目标文件. 之所以不讲源程序直接生成机器指令是因为在不同的阶段可以应用不同的优化技术, 并且技术都已经非常成熟, 可以保证在每个阶段分别进行优化后最终生成可以更为高效的机器指令
- 链接器将所有目标程序链接在一起, 无论是静态链接还是动态链接, 最终都会生成一个可以在机器上直接执行的可运行程序.

## Q: 预处理做了什么工作

所有以#开头的代码都属于预处理器处理的范畴

1. #include: 将头文件的内容包含到源文件中
2. #define: 将宏定义进行宏展开
3. #ifdef: 条件编译展开(#ifdef, #ifndef, #if, #else, #elif, #endif)
4. #other: 处理其它宏指令(包括#error, #warning, #line, #pragma)

实际上除了处理#开头的代码行以外, 还做了一些其他工作, 只是提到预处理时, 习惯性的把它的功能与处理#开头的代码划上等号.

1. 处理预定义的宏, 例如 _ _ DATE_ _  , _ _ FILE _ _(这种宏都是以双下划线开始, 并结束, 自己写宏的时候应该避免冲突)
2. 处理注释
3. 处理三元符??=替换成#, ??/替换成\ (这种是因为在最早的C语言中, 键盘输入不全, 有些键盘无法输入#等, 现在则没有)

## Q: 简述#include<> 和#include ""的区别

这两种都可以将指定文件中的内容引入到当前文件, 但采用了不同的搜索策略, #include<>搜索时直接从编译器指定的路径进行搜索, 如果找不到引入文件, 程序直接报错, 因此系统提供的头文件推荐使用#include<>. #include""首先从程序所在的目录进行搜索, 如果失败再从编译器指定位置进行搜索, 如果搜索失败报错. 虽然系统提供的文件也可以用#include""进行搜索导入, 但会进行无畏的搜索



